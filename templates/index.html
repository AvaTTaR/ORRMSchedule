<!DOCTYPE html>
<html lang="ru">

<head>
  <title>ORRM</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.9/validator.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.js"></script>
  <script type="text/javascript" src="{{url_for('static', filename='bootstrap-notify.min.js') }}"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/css/bootstrap-editable.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/js/bootstrap-editable.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/extensions/editable/bootstrap-table-editable.min.js"></script>
  <script src="{{url_for('static', filename='script.js')}}"></script>
  <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/default.css') }}">
</head>
<body>
  <nav class="navbar navbar-inverse navbar-static-top" role="navigation">
    <div class="container-fluid" id="navfluid">
      <div class="navbar-header">
        <a class="navbar-brand">Расписание</a>
        <button type="button" class="btn btn-default navbar-btn navbar-right" data-toggle="modal" data-target="#loginModal">Управление</button>
      </div>
    </div>
  </nav>
  <div class="container">
    <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#this_week" role="tab" aria-controls="this_week">Текущая неделя</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#next_week" role="tab" aria-controls="next_week">Следующая неделя</a>
      </li>
    </ul>
    <div class="tab-content tab-content-alt" id="content">
      <div class="tab-pane fade" id="this_week" role="tabpanel">
        <table id="thisWeekTable" data-sort-name="name" data-toggle="table" data-url="/schedule=this" data-id-field="shortname">
          <thead>
            <tr>
              <th data-visible="false"></th>
              <th data-halign="center" id="refreshCell"><button type="button" class="btn btn-default" id="refreshThisWeekButton"></button></th>
              <th data-halign="center" data-valign="middle" class="weekRow">Пн</th>
              <th data-halign="center" data-valign="middle" class="weekRow">Вт</th>
              <th data-halign="center" data-valign="middle" class="weekRow">Ср</th>
              <th data-halign="center" data-valign="middle" class="weekRow">Чт</th>
              <th data-halign="center" data-valign="middle" class="weekRow">Пт</th>
            </tr>
            <tr>
              <th data-field="shortname" data-visible="false"></th>
              <th data-field="name" data-sortable="true" data-halign="center" data-valign="middle" data-align="center">Имя</th>
              {% for date in this_week %}
              <th data-field="{{ date['data'] }}" data-editable="true" data-valign="middle" data-halign="center" data-align="center">{{ date['value'] }}</th>
              {% endfor %}
            </tr>
          </thead>
        </table>
      </div>
      <div class="tab-pane fade" id="next_week" role="tabpanel">
          <table id="nextWeekTable" data-sort-name="name" data-toggle="table" data-url="/schedule=next" data-id-field="shortname">
            <thead>
              <tr>
                <th data-visible="false"></th>
                <th data-halign="center"><button type="button" class="btn btn-default" id="refreshNextWeekButton"></button></th>
                <th data-halign="center" data-valign="middle" class="weekRow">Пн</th>
                <th data-halign="center" data-valign="middle" class="weekRow">Вт</th>
                <th data-halign="center" data-valign="middle" class="weekRow">Ср</th>
                <th data-halign="center" data-valign="middle" class="weekRow">Чт</th>
                <th data-halign="center" data-valign="middle" class="weekRow">Пт</th>
              </tr>
              <tr>
                <th data-field="shortname" data-visible="false"></th>
                <th data-field="name" data-sortable="true" data-halign="center" data-valign="middle" data-align="center">Имя</th>
                {% for date in next_week %}
                <th data-field="{{ date['data'] }}" data-editable="true" data-valign="middle" data-halign="center" data-align="center">{{ date['value'] }}</th>
                {% endfor %}
              </tr>
            </thead>
          </table>
      </div>
    </div>
  </div>

  <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" id="loginModal">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <form method="post" id="loginForm" data-toggle="validator">
          <div class="modal-header">
            <h4 class="modal-title">Вход</h4>
          </div>
          <div class="modal-body">
            <div class="form-group" id="passwordGroup">
              <input type="password" name="password" class="form-control" id="inputPassword" placeholder="Введите пароль..." required>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Отмена</button>
            <button type="submit" class="btn btn-primary">OK</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal fade" tabindex="-1" role="dialog" id="manageModal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Управление</h4>
        </div>
        <div class="modal-body">
          <div id="manageTableToolbar" class="btn-group">
            <button type="button" class="btn btn-default" id="addEmployeeButton" data-toggle="modal" data-target="#addEmployeeModal">
              <i class="glyphicon glyphicon-plus"></i>
            </button>
            <button type="button" class="btn btn-default" id="deleteEmployeeButton">
              <i class="glyphicon glyphicon-trash"></i>
            </button>
          </div>
          <table id="employeeTable" data-toggle="table" data-sort-name="name_rus" data-url="/employees" data-toolbar="#manageTableToolbar" data-show-refresh="true" data-single-select="true">
            <thead>
              <tr>
                <th data-checkbox="true"  data-align="center"></th>
                <th data-field="name_rus" data-halign="center" data-sortable="true" data-align="center">Имя</th>
                <th data-field="surname_rus" data-halign="center" data-sortable="true" data-align="center">Фамилия</th>
              </tr>
            </thead>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" id="addEmployeeModal">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <form method="post" id="addEmployeeForm" data-toggle="validator">
          <div class="modal-header">
            <h4 class="modal-title">Добавить</h4>
          </div>
          <div class="modal-body">
            <div class="form-group" id="nameGroup">
              <label for="inputName">Имя</label>
              <input type="text" name="name_rus" class="form-control" id="inputName" required>
            </div>
            <div class="form-group" id="surnameGroup">
              <label for="inputSurname">Фамилия</label>
              <input type="text" name="surname_rus" class="form-control" id="inputSurname" required>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Отмена</button>
            <button type="submit" class="btn btn-primary">OK</button>
          </div>
        </form>
      </div>
    </div>
  </div>

</body>

</html>
